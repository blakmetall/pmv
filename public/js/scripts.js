!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=8)}({187:function(e,t){},192:function(e,t){},20:function(e,t,n){"use strict";function a(){return{w:Math.max(document.documentElement.clientWidth,window.innerWidth||0),h:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}function o(){var e,t,n,o,i=$("#app-menu"),r=i.find("#app-menu-fit-li"),c=function(){var e=parseInt(i.css("padding-right"),10);return i.outerWidth()-e-120},l=function(e){var t=i.find("> li").not(r);if(e)for(var n=0;n<e;n++)t.splice(t.length-1,1);return t},s=function(){r.find("ul").html(""),r.hide(),i.find("> li").not(r).show()};n="medium",o=a(),!("medium"==n&&o.w<=767)&&(s(),c()-(t=0,(e=e||l()).each((function(){var e=$(this);t+=e.outerWidth()})),t)<0)?function e(t){var n=l(t=t||1),a=0;if(n.each((function(){var e=$(this);a+=e.outerWidth()})),c()-a<0)e(t+1);else{for(var o=[],s=i.find("> li").not(r).length,d=0;d<t;d++){var u=s-d-1,f=i.find("> li").not(r).eq(u),p=f.clone();f.hide(),o.push(p)}o=o.reverse();for(d=0;d<o.length;d++)r.find("ul").html(""),r.find("ul").append(o);r.show()}}():s()}function i(e,t){var n=$("#field_property_sunday_bonus_").data("route");e?$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"GET",url:n,dataType:"json",data:{id:e}}).done((function(e){6==t?$("#field_property_sunday_bonus_").val(e):$("#field_property_sunday_bonus_").val("0.00")})):$("#field_property_sunday_bonus_").val("0.00")}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){$(".app-input-datepicker").each((function(){var e,t=$(this).data("format"),n=$(this).data("max-days-limit-from-now"),a=new Date;a.setDate(a.getDate()+parseInt(n)),$(this).pickadate((r(e={selectYears:!0},"selectYears",70),r(e,"selectMonths",!0),r(e,"format",t),r(e,"formatSubmit",t),r(e,"max",a),r(e,"onSet",(function(e){var t=new Date(1e3*e.select).getDay();i($("#field_cleaning-service_property_id_").val()||!1,t)})),e))}))}function l(e){$(".app-fast-select").each((function(){var e=$(this),t=e.data("placeholder");e.fastselect({placeholder:t})}))}function s(){$(".app-checkbox-actions-btn").each((function(){var e=$(this),t=e.data("confirm-label");e.click((function(n){if(n.preventDefault(),confirm(t)&&function(e){var t=!1,n=e.closest(".app-checkbox-actions").find(".app-checkbox-actions-item");return n.length&&n.each((function(){$(this).prop("checked")&&(t=!0)})),t}(e)){var a=function(e){var t=[],n=e.closest(".app-checkbox-actions").find(".app-checkbox-actions-item"),a=e.data("base-url");return n.each((function(){var e=$(this);e.is(":checked")&&t.push(e.val())})),a+"/"+t.join("_")}($(this));return window.location.href=a,!0}return!1}))})),$(".app-checkbox-actions-header").each((function(){$(this).change((function(){var e=$(this).prop("checked");$(this).closest(".app-checkbox-actions").find(".app-checkbox-actions-item").each((function(){$(this).prop("checked",e)}))}))}))}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){var e,t=$(".app-map-wrapper");e=setInterval((function(){"object"===("undefined"==typeof google?"undefined":d(google))&&"object"===d(google.maps)&&(t.length&&t.each((function(){var e,t=$(this),n=t.find(".app-google-map"),a=t.find(".app-google-clear-map"),o=n.data("map-id"),i=document.getElementById(o),r=t.find(".latitude-wrapper input"),c=t.find(".longitude-wrapper input"),l=!!n.data("disabled")||!!n.data("read-only"),s=n.data("lat"),d=n.data("lng"),u={lat:s||20.666155,lng:d||-105.251954},f=new google.maps.Map(i,{center:u,zoom:12,disableDefaultUI:!0,fullscreenControl:!1});e=new google.maps.Marker({position:u,map:f,draggable:!0}),s||d||e.setMap(null),l||(a.length&&a.on("click",(function(){e.setMap(null),r.val(""),c.val("")})),google.maps.event.addListener(f,"click",(function(t){!function(e,t,n){t?t.setPosition(e.latLng):t=new google.maps.Marker({position:e.latLng,map:n,draggable:!0}),t.setMap(n),n.panTo(e.latLng)}(t,e,f),function(e,t,n){t.val(e.latLng.lat()),n.val(e.latLng.lng())}(t,r,c)})))})),clearInterval(e))}),500)}n.r(t),$((function(){var e,t,n,r,d,f,p,h,m;$(window).resize((function(){a(),o()})),$(".btn-print").on("click",(function(e){var t,n,a,o,i=$(this).data("table"),r=$(this).data("title");t=i,n=r,a=document.getElementById(t).innerHTML,(o=window.open("","","height=500, width=500")).document.write("<html>"),o.document.write("<body>"),o.document.write("<h2>".concat(n,"</h2>")),o.document.write("<style>"),o.document.write("\n            .not-print{\n                display: none !important;\n            }\n\n            table{\n                width: 100%;\n                display: table;\n                border-collapse: collapse;\n                box-sizing: border-box;\n                border-spacing: 2px;\n                border-color: grey;\n                border-collapse: collapse;\n                border-spacing: 2px;\n            }\n\n            tr {\n                display: table-row;\n                vertical-align: inherit;\n                border-color: inherit;\n            }\n\n            table thead th {\n                vertical-align: bottom;\n            }\n\n            table th, table td {\n                text-align: left;\n                font-size: 12px;\n                padding: 10px;\n                vertical-align: top;\n                border: 1px solid #000;\n            }\n\n            table th span.app-price-red,\n            table td span.app-price-red {\n                color: #f00;\n            }\n        "),o.document.write("</style>"),o.document.write(a),o.document.write("</body></html>"),o.document.close(),o.print()})),o(),$(".app-confirm").each((function(){var e=$(this),t=e.data("label");e.click((function(e){return!!confirm(t)||(e.preventDefault(),!1)}))})),e=new Date,t=e.getDate(),n=e.getMonth(),r=e.getFullYear(),$("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},themeSystem:"bootstrap4",disableDragging:!0,eventRender:function(e,t){var n=e.status?"<i class='nav-icon i-Yes font-weight-bold text-success'></i>":"<i class='nav-icon i-Close font-weight-bold text-danger'></i>";t.find(".fc-title").html("<div class='status-event'>"+n+"</div> "+e.title)},events:[{title:"Project name here",start:new Date(r,n,1),color:"#ffc107",status:!0},{title:"Office Hour",start:new Date(r,n,3)},{title:"Work on a Project",start:new Date(r,n,9),end:new Date(r,n,12),allDay:!0,color:"#d22346",status:!1},{title:"Work on a Project",start:new Date(r,n,17),end:new Date(r,n,19),allDay:!0,color:"#d22346",status:!0},{id:999,title:"Go to Long Drive",start:new Date(r,n,t-1,15,0),status:!0},{id:999,title:"Go to Long Drive",start:new Date(r,n,t+3,15,0),status:!0},{title:"Work on a New Project",start:new Date(r,n,t-3),end:new Date(r,n,t-3),allDay:!0,color:"#ffc107",status:!1},{title:"Food ",start:new Date(r,n,t+7,15,0),color:"#4caf50",status:!1},{title:"Go to Library",start:new Date(r,n,t,8,0),end:new Date(r,n,t,14,0),color:"#ffc107",status:!1},{title:"Go for Walk",start:new Date(r,n,25),end:new Date(r,n,27),allDay:!0,color:"#ffc107",status:!1},{title:"Work on a Project",start:new Date(r,n,t+8,20,0),end:new Date(r,n,t+8,22,0),status:!0}]}),c(),l(),d=$("#app-pm-property-selection-modal"),f=$("#app-pm-property-selection-container"),p=f.data("url"),d.on("show.bs.modal",(function(e){$.get(p,(function(e){f.html(e)}))})),$(document).on("change","#app-pm-property-selection-container",(function(){var e=$(".app-pm-property-select-wrapper select"),t=$(".app-pm-property-select-wrapper").data("generate-pm-transaction-url"),n=e.val();n&&(document.location=t+"/"+n)})),s(),u(),$(".app-input-timepicker").each((function(){var e=$(this),t=e.data("time-format"),n=e.data("time-interval");e.timepicker({timeFormat:t,interval:n,minTime:"00:00",maxTime:"23:59",startTime:"00:00",dynamic:!1,dropdown:!0,scrollbar:!0})})),$(".app-transaction-modal").each((function(){var e=$(this).attr("id"),t=$("#"+e),n=$(this).find(".app-transaction-modal-container"),a=n.data("url");t.on("show.bs.modal",(function(e){$.get(a,(function(e){n.html(e).promise().done((function(){t.modal("handleUpdate"),c()}))}))}))})),$(".app-contact-modal").each((function(){var e=$(this).attr("id"),t=$("#"+e),n=$(this).find(".app-contact-modal-container"),a=n.data("url");t.on("show.bs.modal",(function(e){$.get(a,(function(e){n.html(e).promise().done((function(){t.modal("handleUpdate")}))}))}))})),$(".app-cleaning-service-modal").each((function(){var e=$(this).attr("id"),t=$("#"+e),n=$(this).find(".app-cleaning-service-modal-container"),a=n.data("url");t.on("show.bs.modal",(function(e){var o=$(e.relatedTarget).data("property"),r=$(e.relatedTarget).data("maid-fee"),s=$(e.relatedTarget).data("load-fee"),d=$(e.relatedTarget).data("date"),u=new Date(d).getDay();$.get(a,(function(e){n.html(e).promise().done((function(){t.modal("handleUpdate"),c(),l(),setTimeout((function(){i(o,u),$("#field_property_status_ids_").change((function(){-1!=$.inArray("8",$(this).val())?($("#field_cleaning-service_maid_fee_").val(0),$("#field_property_sunday_bonus_").val(0)):($("#field_cleaning-service_maid_fee_").val(r),i(o,u)),setTimeout((function(){$(".fstChoiceRemove").each((function(){$(this).on("click",(function(){8===$(this).parent(".fstChoiceItem").data("value")&&($("#field_cleaning-service_maid_fee_").val(r),i(o,u))}))}))}),500)})),$(".fstChoiceRemove").each((function(){$(this).on("click",(function(){8===$(this).parent(".fstChoiceItem").data("value")&&$("#field_cleaning-service_maid_fee_").val(r)}))})),$("#field_cleaning-service_property_id_").val(o),s&&$("#field_cleaning-service_maid_fee_").val(r),"0.00"==r||""==r?$(".maid_fee").hide():$(".maid_fee").show(),$("#maid_fee_base span").html(r),$("#field_cleaning-service_date_").val(d)}),500)}))}))}))})),$('[data-toggle="tooltip"]').tooltip({container:"body"}),$(".hover-action").each((function(){$(this).click((function(){$(".clicked").each((function(e,t){$(t).removeClass("clicked")}));var e=$(this).closest("tr");e.length&&(e.hasClass("clicked")?e.removeClass("clicked"):e.addClass("clicked"))}))})),h=$("#show_finished_balances"),(m=function(){if("open"===h.data("status")){$(".tr-finished-balance").hide(),h.data("status","closed");var e=h.data("show-text");h.text(e)}else{$(".tr-finished-balance").show(),h.data("status","open");var t=h.data("hide-text");h.text(t)}})(),h.on("click",(function(e){e.preventDefault(),m()})),$("#bulk-transaction-name").on("change",(function(){console.log("value",e);var e=$(this).val();$(".bulk-transaction-name").val(e)})),$("#bulk-transaction-type").on("change",(function(){console.log("value",e);var e=$(this).val();$(".bulk-transaction-type").val(e)})),$("#bulk-transaction-from-date").on("change",(function(){console.log("value",e);var e=$(this).val();$(".bulk-transaction-from-date").val(e)})),$("#bulk-transaction-to-date").on("change",(function(){console.log("value",e);var e=$(this).val();$(".bulk-transaction-to-date").val(e)})),$("#bulk-transaction-post-date").on("change",(function(){console.log("value",e);var e=$(this).val();$(".bulk-transaction-post-date").val(e)})),$("select[name='city_id']").change((function(){$("select[name='zone_id']").empty(),$.getJSON("/system/settings/zones/list/"+$(this).val(),(function(e){$.each(e.data,(function(e,t){$("select[name='zone_id']").append("<option value="+t.zone_id+">"+t.name+"</option>")}))}))})),$("#cleaning-option-batch-year-select").change((function(){$(this).closest("form").submit()}));var v,g,_=$("#field_cleaning-service_maid_fee_").val();$("#field_property_status_ids_").change((function(){-1!=$.inArray("8",$(this).val())?$("#field_cleaning-service_maid_fee_").val(0):$("#field_cleaning-service_maid_fee_").val(_),setTimeout((function(){$(".fstChoiceRemove").each((function(){$(this).on("click",(function(){8===$(this).parent(".fstChoiceItem").data("value")&&$("#field_cleaning-service_maid_fee_").val(_)}))}))}),500)})),$(".fstChoiceRemove").each((function(){$(this).on("click",(function(){8===$(this).parent(".fstChoiceItem").data("value")&&$("#field_cleaning-service_maid_fee_").val(_)}))})),v="#store-ajax",g=!1,$(document).on("submit",v,(function(e){if(e.preventDefault(),$(this),!g){var t=$(this).attr("action"),n=$(this).serializeArray();$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:t,dataType:"json",data:n}).done((function(e){$(".modal-backdrop").fadeOut(),$(".modal").fadeOut(),$("body").removeClass("modal-open"),$("#errors-modal").fadeOut(),$.each(e.users.data,(function(e,t){$("select[name='user_id']").append('<option value="'.concat(t.id,'">').concat(t.profile.firstname," ").concat(t.profile.lastname,"</option>"))})),$("select[name='user_id']").append('<option value="'.concat(e.user.user_id,'" selected>').concat(e.user.firstname," ").concat(e.user.lastname,"</option>")),g=!1})).fail((function(e){console.log(e);var t=JSON.parse(e.responseText).errors;$("#errors-modal").empty(),$.each(t,(function(e,t){$("#errors-modal").fadeIn((function(){$("#errors-modal").append("<li>".concat(t,"</li>"))}))}))}))}})),$("#field_cleaning-service_property_id_").change((function(){var e=new Date($("input[name='date_submit']").val()).getDay();i($(this).val(),e)}))}))},8:function(e,t,n){n(20),n(187),e.exports=n(192)}});